# 正则表达式
匹配到就为true





## 普通字符
| 字符 | 含义 | 
| :-: | :-: | 
| [] | 表示字符集合 |
| -  | 表示范围 |

```js
/[a-c]/.test('c')
/[abc]/.test('c')
/[a|b|c]/.test('ab')
```






## 标准字符集合
| 字符 | 含义 | 
| :-: | :-: | 
| \d | 匹配数字字符 |
| \D | 匹配非数字字符 |
| \w | 匹配任意字母，数字，下划线 |
| \W | 匹配任意非数字，字母，下划线 |
| \s | 匹配任何空白符 |
| \S | 匹配任何非空白字符 |
| \r | 回车符 |
| \n | 换行符 |

```js
/\d/.test('3')    // true
/\D/.test('4')    // true
/\D/.test('x4')   // true
/\w/.test('x4')   // true
/\W/.test('x4$')  // true
/\s/.test('xx ')  // true
/\S/.test('xx ')  // true
```





## 特殊字符
| 字符 | 含义 | 
| :-: | :-: | 
| \ | 将下一个字符标记为特殊字符 |
| * | 零次或多次匹配前面的字符或子表达式 |
| + | 一次或多次匹配前面的字符或子表达式 |
| ? | 零次或一次匹配前面的字符或子表达式 |
| . | 匹配\r\n之外的任何单个字符 |
| \| | 或 |
| () | 分组 |

```js
/\d?/.test('')  // true
```





## 限定字符
| 字符 | 含义 | 
| :-: | :-: | 
| {n,m} | n-m次匹配前面的字符或子表达式 |

```js
/\d{3}/.test('111ccc')    // true
/\d{3,4}/.test('111ccc')  // true
/\d{3,}/.test('111ccc')   // true 匹配3次以上的
```





## 贪婪模式与非贪婪模式
贪婪模式是
```js
/\d{3,5}/.test('012345678') 
|01234|5678|
// 贪婪模式：按照最多的5个匹配，然后匹配3个

/\d{3,5}?/.test('012345678')   
|012|345|678|
// 非贪婪模式：按照最少的3个来匹配
```




## 定位字符
| 字符 | 含义 | 
| :-: | :-: | 
| ^ | 匹配字符串开始的位置 |
| $ | 匹配字符串结尾的位置 |
| \b | 匹配一个单词边界 |

```js
/^Hey/.test('HHey')       // false; 不匹配Hey
/Hey$/.test('Hey')        // true; Hey结尾
/^H.*y$/.test('Habcdey')  // true; H开头，中间若干字符，y结尾
```






## 自定义字符集合
| 字符 | 含义 | 
| :-: | :-: | 
| [abc] | 匹配abc任意一个字符 |
| [+*?] | +*?在里面自是字符本身的意思 |
| [^] | ^在里面就是取反的意思 |
| [-] | -在里面依旧表示范围 |
| [.] | .在里面小数点 |

```js
/[Hey]/.test('e')     // true; 匹配任意H,e.y
/[^Hey]/.test('e')    // false; 匹配任意非H,e.y
/[a-y]/.test('z')     // false; 匹配a-y
```






## 选择符和分组
| 表达式 | 含义 | 
| :-: | :-: | 
| patt1 \| patt2 | 或的关系，至少匹配一个 |
| (patt) | 匹配patt并获取储存 |
| (?:patt) | 在里面依旧表示范围 |

```js
/(abc){2,3}/.test('abcabc')       
// true; 2-3次匹配abc
```




## 反向引用
用()捕获的内容,根据从左到右的顺序从1开始自动编号.通过反向引用,可以对已捕获的进行引用\number就是编号

- (pattern)捕获组
这里\1表示把捕获到的第一组再引用一次,就等同于abcdabc
```js
/(abc)d\1/.test('abcdabc') 
```

- (?:pattern)非捕获组
匹配表达式中的内容,但是不存储.
```js
/stor(?:y|ies)/.test('story') 
```



## 预搜索
| 表达式 | 含义 | 
| :-: | :-: | 
| (?=pattern)  | 断言此位置后面能匹配pattern |
| (?<=pattern) | 断言此位置前面能匹配pattern |
| (?!pattern)  | 断言此位置后面不能匹配pattern |
| (?<!pattern) | 断言此位置前面不能匹配pattern |

- /love (?=story)/
能够匹配: I love story!

- /love (?!story)/
能够匹配: I love stories!



## 开发过程使用正则表达式
- 分析需要匹配的数据特点,模拟各种测试数据
- 利用正则工具,验证正则表达式
- 在程序中调用


## 电话号码的正则
- 电话号码由数字和“-”组成
- 如果包含区号，那么区号为三位或四位，首位是0
- 区号用“-”和其他数字分割
- 除了区号，电话号码为7到8位
- 手机号码为11位
- 11位手机号码的前2位为“13”，“14”，“15”，“17”，“18”


```js
/0\d{2,3}-\d{7,8}/    // 固定号码
/1[34578]\d{9}/       // 手机号码
```